@using BuilderPulsePro.Builders
@inherits BuilderPulseProComponentBase
@inject IBuilderProfileAppService builderAppService


<Field>
    <FileEdit Multiple Changed="OnFileEditChanged" Filter="image/jpg, image/jpeg, image/png" />
</Field>

@if (PortfolioItems != null)
{
    <Row>
        @foreach (var item in PortfolioItems.Where(x => !x.IsDeleted))
        {
            <Column ColumnSize="ColumnSize.IsThird" Margin="Margin.Is2.FromBottom">
                <Card>
                    <Div Class="photo-container position-relative">
                        <Image Source="@($"api/portfolio-images/{item.BlobName}")" Fluid Class="photo-image" Border="Border.Is1.Rounded"></Image>
                        <Button Color="Color.Danger" Size="Size.Small" Class="delete-button position-absolute top-0 start-0 m-1" Clicked="() => DeletePortfolioItem(item)">
                            <Icon Name="IconName.Delete" />
                        </Button>
                    </Div>
                    <CardBody>
                        <CardTitle></CardTitle>
                    </CardBody>
                </Card>
            </Column>
        }
    </Row>
}